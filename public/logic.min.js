const log = document.getElementById("log"),
  text = document.getElementById("text"),
  scroll_bottom = () => {
    window.scrollTo(0, document.body.scrollHeight);
  },
  textlog = () => {
    const l = document.createElement("p");
    (l.innerHTML =
      '<span style="color:#DA2E46;">cx0y</span><span style="color:#F7C332;">@info</span><span style="color:#DA2E46;"> âˆ‘ _</span>' +
      text.value),
      log.appendChild(l);
  },
  text_value_reset = () => {
    text.value = "";
  },
  open_url = (url) => {
    const a = document.createElement("a");
    (a.href = url), (a.target = "_blank"), a.click();
  },
  fetchRender = (url, render) => {
    fetch(url)
      .then((response) => response.json())
      .then((key) => {
        const data = key,
          json = JSON.stringify(data, void 0, 4),
          pre = document.createElement("pre"),
          code = document.createElement("code");
        (code.innerHTML = json),
          (code.className = "language-json"),
          (code.style = "max-width:50%");
        const avatar_url = data.avatar_url,
          bio = data.bio,
          avatar_img = document.createElement("img");
        (avatar_img.src = avatar_url),
          (avatar_img.classList = "avater"),
          (avatar_img.alt = "404");
        const usr_name = document.createElement("p");
        (usr_name.innerHTML =
          "\n      Login: " +
          data.login +
          "(" +
          data.name +
          ")\n      <br>\n      Bio: " +
          bio),
          pre.appendChild(code),
          render.appendChild(avatar_img),
          render.appendChild(usr_name),
          render.appendChild(pre),
          scroll_bottom();
      });
  },
  joke_fetch = () => {
    (url = "https://icanhazdadjoke.com/slack"),
      fetch(url)
        .then((response) => response.json())
        .then((key) => {
          const data = key,
            joke = data.attachments[0].text,
            joke_render = document.createElement("p");
          (joke_render.innerHTML = joke), log.appendChild(joke_render);
        });
  },
  mime_fetch = () => {
    (url = "https://meme-api.herokuapp.com/gimme"),
      fetch(url)
        .then((response) => response.json())
        .then((key) => {
          const data = key,
            mime = data.url,
            mime_render = document.createElement("p");
          (mime_render.innerHTML = "generating mime wait..."),
            log.appendChild(mime_render),
            popup_wid(mime, "mime");
        }),
      scroll_bottom();
  };
function popup_wid(url, windowName) {
  return (
    (newwindow = window.open(
      url,
      windowName,
      "left=700,top=10,height=400,width=600"
    )),
    window.focus && newwindow.focus(),
    !1
  );
}
text.addEventListener("keypress", () => {
  if (13 === event.keyCode)
    if ("am" == text.value) {
      textlog();
      const text = document.createElement("p"),
        logo = document.createElement("pre");
      (logo.style.color = "#fff"),
        (text.innerHTML =
          '\n       Login: cx0y(wiz)\n       <br>\n       Age: 19 years\n       <br>\n       Status: <span style="color:aqua">Alive</span>\n       <br>\n       Job: Student\n       <br>\n       Description: I\'m extremely curious &\' a physics UG student &\' interested in <span style="color:aqua;">algorithm engineering</span>.\n       <br>\n       Motivation: Whatever you do! Stop <b><i>explaining</i></b> yourself!\n       <br>\n       Mail:<span style="color:aqua;"> cx0y@proton.me</span>\n       <br>\n       Twitter:<span style="color:aqua;"> cx0y_ </span>(<span class="cmd">try:</span> go twitter)\n       <br>\n       Github: <span style="color:aqua;"> cx0y </span>(<span class="cmd">try:</span> go github)\n            '),
        (logo.innerHTML =
          "\n\n                   ( ) ___    \n       //  / /  / / / /    / /  \n      //  / /  / / / /    / /   \n     ((__( (__/ / / /    / /__  \n\n\n    [] DEMON ROACH UNDERGROUND []\n.______|_____________________|______.\n|[C] Wail to chat :[D] Set display  |                        \n|[F] Feed Ratte   :[I] Roach info   |\n|[N] Roach news   :[O] Outta here...|\n|[U] Fetus list   :[Y] Yo stats     |\n|[Z] Nothing      :[@] Disclaimer   |\n|  Check back in a day or so        |\n|  for access                       |\n|___________________________________|\n\n      "),
        log.appendChild(logo),
        log.appendChild(text),
        text_value_reset(),
        scroll_bottom();
    } else if ("cls" == text.value)
      (log.innerHTML = ""), text_value_reset(), scroll_bottom();
    else if ("help" == text.value) {
      textlog();
      const text = document.createElement("p"),
        help_logo = document.createElement("pre");
      (text.innerHTML =
        '\n             <p>[ this application integrates with <span style="color:aqua;">github.api</span> ]</p>\n             <br> \n             <span class="cmd">am</span> => my info\n             <br>\n             <span class="cmd">usr [github_login]</span> => this command show all info about any github user login (try:<span style="color:aqua;"> usr cx0y</span> || try:<span style="color:aqua;"> usr your_login</span>)\n             <br>\n             <span class="cmd">go</span> => use to open url (try:<span style="color:aqua;">go github</span>)\n             <br>\n             <span class="cmd">joke</span> => use to get random joke :)\n             <br>\n             <span class="cmd">meme</span> => use to get random meme :0\n             <br>\n             <span class="cmd">nsfw</span> => use to get a list of nsfw sites\n             <br>\n             <span class="cmd">ly</span> => use to open my favorite song!!\n             <br>\n             <span class="cmd">cls</span> => clear\n             <br>\n             <span class="cmd">rl</span> => for reload this terminal\n             <br>\n            '),
        (help_logo.innerHTML =
          "\n                         000      00\n                           0000000   0000\n              0      00  00000000000000000\n            0000 0  000000000000000000000000       0\n         000000000000000000000000000000000000000 000\n        0000000000000000000000000000000000000000000000\n    000000000000000000000000000000000000000000000000\n00000000000000000000000000000000000000000000000000000000\n            C\n                O M        |\n                    F          |\n                 Y                         |         |\n            |                R  A\n                                  I N\n                       I N   |\n              |                                    |\n        |                            Y O\n                |                   U        R\n                   |            T E\n                                     R   |   |\n                         |            M\n                               I N\n                                        AL \n      \n      "),
        log.appendChild(help_logo),
        log.appendChild(text),
        scroll_bottom(),
        text_value_reset();
    } else if ("" == text.value) textlog(), scroll_bottom(), text_value_reset();
    else if ("rl" == text.value) location.reload(), localStorage.clear();
    else if ("usr" == text.value.slice(0, 3)) {
      const github_login = text.value.slice(4),
        user_url = "https://api.github.com/users/" + `${github_login}`;
      textlog(), fetchRender(user_url, log), text_value_reset();
    } else if ("go twitter" == text.value)
      textlog(),
        open_url("https://twitter.com/cx0y_"),
        scroll_bottom(),
        text_value_reset();
    else if ("go github" == text.value)
      textlog(),
        open_url("https://github.com/cx0y"),
        scroll_bottom(),
        text_value_reset();
    else if ("joke" == text.value)
      textlog(), joke_fetch(), scroll_bottom(), text_value_reset();
    else if ("meme" == text.value) textlog(), mime_fetch(), text_value_reset();
    else if ("ly" == text.value) {
      textlog();
      const text = document.createElement("p");
      (text.innerHTML =
        "\n             <br> \n             Maybe I don't know what to do\n             <br>\n             Hurry up, my mind is on the moon\n             <br>\n             Flying up to where the wind blew\n             <br>\n             The overflowing passion in the palm of my hands has awakened\n             <br>\n             I wander around on this road\n             <br>\n             The only thing that shine brightly is your pure\n             <br>\n             A rusty knife can't stab, I am burning like a fire tower\n             <br>\n             At the moment the arrow pierced into my heart,\n             <br>\n             All the noise around me was dispelled\n             <br>\n             Everything was deeper from that moment on\n             <br>\n             If I don't try, I'll never know\n             <br>\n             \"Why do flowers bloom?\"\n             <br>\n             Your voice echoes\n             <br>\n             Tell me why I just shout into the sky\n             <br>\n             But you are now no longer you, that's right\n             <br>\n             On that day, we were reaffirming life\n             <br>\n             Even if people say it's just a faint dream,\n             <br>\n             I want to rescue us from the battle scarred today             \n             <br>\n            "),
        log.appendChild(text),
        popup_wid("https://www.youtube.com/watch?v=-x_YDwlaQco", "window_yt"),
        scroll_bottom(),
        text_value_reset();
    } else if ("nsfw" == text.value)
      if (window.confirm("Open Nsfw page?")) {
        textlog();
        const nsfw = document.createElement("a");
        (nsfw.href = "https://www.youpornlist.com"),
          (nsfw.target = "_blank"),
          nsfw.click(),
          scroll_bottom(),
          text_value_reset();
      } else textlog(), scroll_bottom(), text_value_reset();
    else {
      textlog();
      const err = document.createElement("p");
      (err.innerHTML =
        '\n            <span style="color:red" >Err! Command \'' +
        text.value +
        '\' not found!</span>\n            <br>\n            Use <span style="color:#F7C332">help</span> command to get help\n            '),
        log.appendChild(err),
        scroll_bottom(),
        text_value_reset();
    }
});
